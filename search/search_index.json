{"config":{"lang":["ru"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Main","text":"<p>\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u043b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442 \u043f\u043e \u0434\u0438\u0441\u0446\u0438\u043f\u043b\u0438\u043d\u0435 Web-\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u043a\u0438 \u0433\u0440\u0443\u043f\u043f\u044b K33422 \u0414\u0435\u043c\u0448\u0438 \u0415\u0432\u0433\u0435\u043d\u0438\u0438</p>"},{"location":"lab2/forms/","title":"\u0424\u043e\u0440\u043c\u044b","text":"<p>\u041f\u0435\u0440\u0435\u0434 \u0442\u0435\u043c \u043a\u0430\u043a \u043f\u0438\u0441\u0430\u0442\u044c \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f, \u043d\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0444\u043e\u0440\u043c\u044b. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0444\u0430\u0439\u043b <code>forms.py</code> \u0432 \u043d\u0430\u0448\u0435\u043c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438.</p> \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f\u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u041e\u0442\u0437\u044b\u0432 <pre><code>from django import forms\nfrom django.contrib.auth.forms import UserCreationForm\nfrom django.contrib.auth.models import User\n# Create your forms here.\nclass NewUserForm(UserCreationForm):\nemail = forms.EmailField(required=True)\nclass Meta:\nmodel = User\nfields = (\"username\", \"email\", \"password1\", \"password2\")\ndef save(self, commit=True):\nuser = super(NewUserForm, self).save(commit=False)\nif commit:\nuser.save()\nreturn user\n</code></pre> <p>\u0421\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u043a\u043b\u0430\u0441\u0441, \u043d\u0430\u0441\u043b\u0435\u0434\u0443\u044f \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u0443\u044e \u0444\u043e\u0440\u043c\u0443 \u0434\u043b\u044f \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043d\u043e\u0432\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 <code>UserCreationForm</code>. \u0414\u043e\u0431\u0430\u0432\u0438\u043c \u043f\u043e\u043b\u0435 \u043f\u043e\u0447\u0442\u044b.</p> <pre><code>from django import forms\nfrom .models import Booking\nclass BookRoomForm(forms.ModelForm):\nclass Meta:\nmodel = Booking\nfields = (\"date_start\", \"date_end\")\ndef __init__(self, *args, **kwargs):\nself.user = kwargs.pop('user', None)\nself.room = kwargs.pop('room', None)\nsuper(BookRoomForm, self).__init__(*args, **kwargs)\ndate_start = forms.DateField(widget=forms.TextInput(attrs={'type': 'date'}))\ndate_end = forms.DateField(widget=forms.TextInput(attrs={'type': 'date'}))\ndef save(self, commit=True):\nbooking = super(BookRoomForm, self).save(commit=False)\nbooking.user = self.user\nbooking.room = self.room\nif commit:\nbooking.save()\nreturn booking\n</code></pre> <p>\u0424\u043e\u0440\u043c\u0430 \u0434\u043b\u044f \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f. \u0412\u043c\u0435\u0441\u0442\u0435 \u0441 \u0440\u0435\u043a\u0432\u0435\u0441\u0442\u043e\u043c \u0432 \u043d\u0435\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u0435\u0442\u0441\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0442\u0435\u043a\u0443\u0449\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435 \u0438 \u043e \u043a\u043e\u043c\u043d\u0430\u0442\u0435,  \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043e\u043d \u0431\u0440\u043e\u043d\u0438\u0440\u0443\u0435\u0442. \u042e\u0437\u0435\u0440\u0443 \u043d\u0443\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0434\u0430\u0442\u0435 \u0437\u0430\u0441\u0435\u043b\u0435\u043d\u0438\u044f \u0438 \u0432\u044b\u0441\u0435\u043b\u0435\u043d\u0438\u044f.</p> <pre><code>from django import forms\nfrom .models import Comment\nclass ReviewForm(forms.ModelForm):\nclass Meta:\nmodel = Comment\nfields = (\"rating\", \"content\")\ndef __init__(self, *args, **kwargs):\nself.user = kwargs.pop('user', None)\nself.room = kwargs.pop('room', None)\nsuper(ReviewForm, self).__init__(*args, **kwargs)\ndef save(self, commit=True):\ncomment = super(ReviewForm, self).save(commit=False)\ncomment.user = self.user\ncomment.room = self.room\ncomment.date = datetime.date.today()\nif commit:\ncomment.save()\nreturn comment\n</code></pre> <p>\u0421\u0430\u043c\u0430\u044f \u0431\u0430\u0437\u043e\u0432\u0430\u044f \u0444\u043e\u0440\u043c\u0430, \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u043d\u0430 \u043c\u043e\u0434\u0435\u043b\u0438. \u041d\u0430\u043c \u0442\u0440\u0435\u0431\u0443\u044e\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e 2 \u043f\u043e\u043b\u044f: \u0442\u0435\u043a\u0441\u0442 \u043e\u0442\u0437\u044b\u0432\u0430 \u0438 \u0440\u0435\u0439\u0442\u0438\u043d\u0433.</p>"},{"location":"lab2/models/","title":"\u041c\u043e\u0434\u0435\u043b\u0438","text":"<p>\u041d\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043e\u043f\u0438\u0441\u0430\u0442\u044c \u0411\u0414 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430\u043c\u0438 Django ORM, \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u0439\u0434\u0451\u043c \u0432 \u0444\u0430\u0439\u043b <code>models.py</code> \u0432 \u043d\u0430\u0448\u0435\u043c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438 \u0438  \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u043b\u0430\u0441\u0441\u043e\u0432, \u043d\u0430\u0441\u043b\u0435\u0434\u0443\u0435\u043c\u044b\u0445 \u043e\u0442 <code>django.db.models.Model</code>.</p> \u041e\u0442\u0435\u043b\u044c\u041a\u043e\u043c\u043d\u0430\u0442\u0430\u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u041e\u0442\u0437\u044b\u0432 <pre><code>from django.db import models\nclass Hotel(models.Model):\nname = models.CharField(max_length=50)\nowner = models.CharField(max_length=50, null=True, blank=True)\ncountry = models.CharField(max_length=30)\ncity = models.CharField(max_length=30)\naddress = models.CharField(max_length=100)\ndescription = models.CharField(max_length=1000, null=True, blank=True)\nimage = models.ImageField()\ndef __str__(self):\nreturn f'{self.city}'\n</code></pre> <pre><code>from django.db import models\nclass Room(models.Model):\nTYPE_ROOM = (\n(\"PREMIUM\", \"premium\"),\n(\"DELUXE\", \"deluxe\"),\n(\"SUITE\", \"suite\"),\n)\nhotel = models.ForeignKey(Hotel, on_delete=models.CASCADE)\ndescription = models.CharField(max_length=1000)\ntype = models.CharField(max_length=10, choices=TYPE_ROOM)\ncost = models.IntegerField()\nimage = models.ImageField()\nguest = models.ManyToManyField(User, through='Booking')\ndef __str__(self):\nreturn self.type\n</code></pre> <pre><code>from django.contrib.auth.models import User\nfrom django.db import models\nclass Booking(models.Model):\nuser = models.ForeignKey(User, on_delete=models.CASCADE)\nroom = models.ForeignKey(Room, on_delete=models.CASCADE)\ndate_start = models.DateField()\ndate_end = models.DateField()\n</code></pre> <pre><code>from django.contrib.auth.models import User\nfrom django.db import models\nclass Comment(models.Model):\nuser = models.ForeignKey(User, on_delete=models.CASCADE)\nroom = models.ForeignKey(Room, on_delete=models.CASCADE)\ncontent = models.CharField(max_length=1000, null=True, blank=True)\nrating = models.IntegerField()\ndate = models.DateField()\ndef __str__(self):\nreturn f'{self.user} \u043en {self.room}'\n</code></pre> <p>\u041f\u043e\u0441\u043b\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0432\u0441\u0435\u0445 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u043d\u0443\u0436\u043d\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438:</p> <pre><code>python manage.py makemigrations\npython manage.py migrate\n</code></pre> <p>\u0410 \u0442\u0430\u043a \u0436\u0435 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0443\u043f\u0435\u0440\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:</p> <pre><code>python manage.py createsuperuser\n</code></pre>"},{"location":"lab2/views/","title":"\u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f","text":"<p>\u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u2014 \u043e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u043b\u043e\u0433\u0438\u043a\u0430 \u043d\u0430\u0448\u0435\u0433\u043e \u0441\u0430\u0439\u0442\u0430. \u0412 \u0444\u0430\u0439\u043b\u0435 <code>views.py</code> \u043f\u0440\u043e\u043f\u0438\u0448\u0435\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438.</p> \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f, \u0432\u0445\u043e\u0434 \u0438 \u0432\u044b\u0445\u043e\u0434\u0421\u043f\u0438\u0441\u043a\u043e\u0432\u044b\u0435 \u0438 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f\u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u041e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0442\u0437\u044b\u0432\u0430 <pre><code>from django.shortcuts import render, redirect\nfrom django.contrib import messages\nfrom django.contrib.auth import authenticate, login, logout\nfrom django.contrib.auth.forms import AuthenticationForm\nfrom .forms import NewUserForm\ndef register_request(request):\nif request.method == \"POST\":\nform = NewUserForm(request.POST)\nif form.is_valid():\nuser = form.save()\nlogin(request, user)\nmessages.success(request, \"Registration successful.\" )\nreturn redirect(\"/\")\nmessages.error(request, \"Unsuccessful registration. Invalid information.\")\nform = NewUserForm()\nreturn render(request=request, template_name=\"register.html\", context={\"register_form\": form})\ndef login_request(request):\nif request.method == \"POST\":\nform = AuthenticationForm(request, data=request.POST)\nif form.is_valid():\nusername = form.cleaned_data.get('username')\npassword = form.cleaned_data.get('password')\nuser = authenticate(username=username, password=password)\nif user is not None:\nlogin(request, user)\nmessages.info(request, f\"You are now logged in as {username}.\")\nreturn redirect(\"/\")\nelse:\nmessages.error(request,\"Invalid username or password.\")\nelse:\nmessages.error(request,\"Invalid username or password.\")\nform = AuthenticationForm()\nreturn render(request=request, template_name=\"login.html\", context={\"login_form\": form})\ndef logout_request(request):\nlogout(request)\nmessages.info(request, \"You have successfully logged out.\")\nreturn redirect(\"/\")\n</code></pre> <pre><code>from django.shortcuts import render, redirect\nfrom hotel_app.models import Hotel, Room\nfrom django.views.generic.list import ListView\nfrom django.views.generic.detail import DetailView\nclass BookingListView(ListView):\nmodel = Booking\nqueryset = model.objects.all()\ndef get_queryset(self):\ntry:\nqueryset = self.queryset.filter(user=self.request.user)\nexcept ValueError:\nqueryset = self.model.objects.none()\nreturn queryset\nclass HotelRetrieveView(DetailView):\nmodel = Hotel\nclass HotelListView(ListView):\nmodel = Hotel\nclass RoomListView(ListView):\nmodel = Room\nqueryset = model.objects.all()\ndef get_queryset(self):\nhotel = self.kwargs['hotel_city']\nif hotel:\ntry:\nqueryset = self.queryset.filter(hotel__city=hotel)\nexcept ValueError:\nqueryset = self.model.objects.none()\nreturn queryset\nreturn self.queryset\n</code></pre> <pre><code>from django.shortcuts import render, redirect\nfrom hotel_app.models import Room, Booking\nfrom .forms import BookRoomForm\ndef booking_view(request, *args, **kwargs):\nmodel = Room\nqueryset = model.objects.all()\nhotel = kwargs['hotel_city']\nqueryset = queryset.filter(hotel__city=hotel)\nroom_type = kwargs['room_type']\nroom = queryset.get(type=room_type)\ncomm_model = Comment\ncomm_queryset = comm_model.objects.all()\ncomments = comm_queryset.filter(room=room)\nprint(room)\nif request.POST:\nform = BookRoomForm(request.POST, user=request.user, room=room)\nif form.is_valid():\nbooking = form.save()\nreturn redirect(\"/booking/\")\nform = BookRoomForm()\nreturn render(request=request, template_name=\"room_detail.html\", context={\"booking_form\": form,\n\"comments\": comments})\n</code></pre> <pre><code>from django.shortcuts import render, redirect\nfrom hotel_app.models import Room, Comment\nfrom .forms import ReviewForm\ndef leave_review(request, *args, **kwargs):\nmodel = Room\nqueryset = model.objects.all()\nhotel = kwargs['hotel_city']\nqueryset = queryset.filter(hotel__city=hotel)\nroom_type = kwargs['room_type']\nroom = queryset.get(type=room_type)\nif request.POST:\nform = ReviewForm(request.POST, user=request.user, room=room)\nif form.is_valid():\ncomment = form.save()\nreturn redirect(\"/booking/\")\nform = ReviewForm()\nreturn render(request=request, template_name=\"review.html\", context={\"review_form\": form})\n</code></pre>"},{"location":"lab3/auth/","title":"\u0410\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f","text":"<p>\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u043c \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044e \u043f\u043e \u0442\u043e\u043a\u0435\u043d\u0430\u043c.</p> <pre><code> pip install -U djoser\n</code></pre> http://127.0.0.1:8000/auth/users/http://127.0.0.1:8000/auth/token/login\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0442\u043e\u043a\u0435\u043d\u0430 <p></p> <p></p> <p></p>"},{"location":"lab3/description/","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435","text":"<p>\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u044f.</p> <p></p> <p>\u041f\u043e\u043b\u0443\u0447\u0438\u0432\u0448\u0430\u044f\u0441\u044f \u0441\u0445\u0435\u043c\u0430 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445.</p> <p></p>"},{"location":"lab3/models/","title":"\u041c\u043e\u0434\u0435\u043b\u0438","text":"<p>\u041d\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043e\u043f\u0438\u0441\u0430\u0442\u044c \u0411\u0414 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430\u043c\u0438 Django ORM, \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u0439\u0434\u0451\u043c \u0432 \u0444\u0430\u0439\u043b <code>models.py</code> \u0432 \u043d\u0430\u0448\u0435\u043c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438 \u0438  \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u043b\u0430\u0441\u0441\u043e\u0432, \u043d\u0430\u0441\u043b\u0435\u0434\u0443\u0435\u043c\u044b\u0445 \u043e\u0442 <code>django.db.models.Model</code>.</p> \u041c\u0443\u0437\u0435\u0439 \u0438 \u0410\u0432\u0442\u043e\u0440\u041f\u0440\u0435\u0434\u043c\u0435\u0442 \u0438 \u041a\u0430\u0440\u0442\u043e\u0442\u0435\u043a\u0430\u0424\u043e\u043d\u0434 \u0438 \u0412\u044b\u0441\u0442\u0430\u0432\u043a\u0430\u041f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u0432 \u0424\u043e\u043d\u0434 \u0438 \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u043d\u0430 \u0412\u044b\u0441\u0442\u0430\u0432\u043a\u0443 <pre><code>\n</code></pre> <pre><code>\n</code></pre> <pre><code>\n</code></pre> <pre><code>\n</code></pre> <p>\u041f\u043e\u0441\u043b\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0432\u0441\u0435\u0445 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u043d\u0443\u0436\u043d\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438:</p> <pre><code>python manage.py makemigrations\npython manage.py migrate\n</code></pre> <p>\u0410 \u0442\u0430\u043a \u0436\u0435 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0443\u043f\u0435\u0440\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:</p> <pre><code>python manage.py createsuperuser\n</code></pre>"},{"location":"lab3/serializers/","title":"\u0421\u0435\u0440\u0438\u0430\u043b\u0430\u0439\u0437\u0435\u0440\u044b","text":"<p>\u0421\u0435\u0440\u0438\u0430\u043b\u0430\u0439\u0437\u0435\u0440\u044b \u043c\u043e\u0438 \u0441\u0435\u0440\u0438\u0430\u043b\u0430\u0439\u0437\u0435\u0440\u044b.</p> \u0421\u0435\u0440\u0438\u0430\u043b\u0430\u0439\u0437\u0435\u0440\u044b \u0434\u043b\u044f \u0432\u044b\u0432\u043e\u0434\u0430 \u0432\u0441\u0435\u0445 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446\u0421\u0435\u0440\u0438\u0430\u043b\u0430\u0439\u0437\u0435\u0440\u044b \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043d\u043e\u0432\u044b\u0445 \u0437\u0430\u043f\u0438\u0441\u0435\u0439\u0421\u0435\u0440\u0438\u0430\u043b\u0430\u0439\u0437\u0435\u0440\u044b \u0434\u043b\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0438\u0437 \u0437\u0430\u0434\u0430\u043d\u0438\u044f <pre><code>from rest_framework import serializers\nfrom .models import *\n</code></pre> <pre><code>from rest_framework import serializers\nfrom .models import *\n</code></pre>"},{"location":"lab3/task3-1/","title":"\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0430","text":"<p>\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u043c\u0438 \u0432 Django ORM.</p> \u041c\u043e\u0434\u0435\u043b\u0438\u0417\u0430\u0434\u0430\u043d\u0438\u0435 1\u0417\u0430\u0434\u0430\u043d\u0438\u0435 2\u0417\u0430\u0434\u0430\u043d\u0438\u0435 3 <pre><code>from django.db import models\nclass CarOwner(models.Model):\nlast_name = models.CharField(max_length=30)\nfirst_name = models.CharField(max_length=30)\nbirth_date = models.DateField()\ndef __str__(self):\nreturn f'{self.first_name} {self.last_name}'\nclass Licence(models.Model):\nLICENSE_TYPE = (\n('B', 'passenger car'),\n('C', 'truck'),\n('D', 'bus'),\n)\ncar_owner = models.ForeignKey(CarOwner, on_delete=models.CASCADE, related_name=\"licence\")\nlicense_number = models.IntegerField()\ntype = models.CharField(max_length=2, choices=LICENSE_TYPE)\ndate_of_issue = models.DateField()\nclass Car(models.Model):\nlicense_plate_number = models.CharField(max_length=15)\nbrand = models.CharField(max_length=20)\nmodel = models.CharField(max_length=20)\ncolor = models.CharField(max_length=30)\nowner = models.ManyToManyField(CarOwner, through='Ownership')\ndef __str__(self):\nreturn self.license_plate_number\nclass Ownership(models.Model):\nuser = models.ForeignKey(CarOwner, on_delete=models.CASCADE, related_name=\"ownership\")\ncar = models.ForeignKey(Car, on_delete=models.CASCADE, related_name=\"ownership\")\ndate_start = models.DateField()\ndate_end = models.DateField(null=True, blank=True)\nended = models.BooleanField()\n</code></pre> <p><pre><code>from django.utils import timezone\nfrom demsha_drf_app.models import CarOwner, Car, Ownership, Licence\nimport os\nimport django\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'demsha_drf_project.settings')\ndjango.setup()\nowners = CarOwner.objects.bulk_create(\n[\n(gleb := CarOwner(last_name=\"\u0411\u0435\u043b\u044f\u0435\u0432\", first_name=\"\u0413\u043b\u0435\u0431 \", birth_date=\"2000-03-11\")),\n(egor := CarOwner(last_name=\"\u041f\u043e\u043d\u043e\u043c\u0430\u0440\u0435\u0432\", first_name=\"\u0415\u0433\u043e\u0440\", birth_date=\"1998-08-01\")),\n(mariana := CarOwner(last_name=\"\u0421\u0438\u0434\u043e\u0440\u043e\u0432\u0430\", first_name=\"\u041c\u0430\u0440\u044c\u044f\u043d\u0430\", birth_date=\"1990-12-19\")),\n(ksenia := CarOwner(last_name=\"\u0413\u043e\u0440\u0434\u0435\u0435\u0432\u0430\", first_name=\"\u041a\u0441\u0435\u043d\u0438\u044f\", birth_date=\"1999-10-22\")),\n(kate1 := CarOwner(last_name=\"\u0421\u0438\u043d\u0438\u0446\u044b\u043d\u0430\", first_name=\"\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0430\", birth_date=\"1985-02-12\")),\n(fedor := CarOwner(last_name=\"\u0410\u0431\u0440\u0430\u043c\u043e\u0432\", first_name=\"\u0424\u0451\u0434\u043e\u0440\", birth_date=\"1977-04-30\")),\n(kate2 := CarOwner(last_name=\"\u041c\u0443\u0445\u0438\u043d\u0430\", first_name=\"\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0430\", birth_date=\"2002-08-02\")),\n]\n)\ncars = Car.objects.bulk_create(\n[\n(jeep := Car(license_plate_number=\"\u0425574\u0422\u041c\", brand=\"Jeep\", model=\"Compass\", color=\"black\")),\n(honda := Car(license_plate_number=\"\u0423342\u0423\u0420\", brand=\"Honda\", model=\"Clarity\", color=\"gray\")),\n(ford1 := Car(license_plate_number=\"\u0421699\u041d\u041e\", brand=\"Ford\", model=\"Fusion\", color=\"red\")),\n(kia := Car(license_plate_number=\"\u0423253\u041a\u041c\", brand=\"Kia\", model=\"Rio\", color=\"white\")),\n(vw := Car(license_plate_number=\"\u0422191\u0412\u0425\", brand=\"Volkswagen\", model=\"Atlas\", color=\"gold\")),\n(tesla := Car(license_plate_number=\"\u041d882\u0420\u0410\", brand=\"Tesla\", model=\"Model 3\", color=\"blue\")),\n(ford2 := Car(license_plate_number=\"E543MK\", brand=\"Ford\", model=\"Maverick\", color=\"red\")),\n]\n)\nownerships = Ownership.objects.bulk_create(\nOwnership(user=gleb, car=ford1, date_start=\"2019-10-25\", date_end=\"2021-11-15\"),\nOwnership(user=egor, car=tesla, date_start=\"2018-11-15\", date_end=\"2022-06-06\"),\nOwnership(user=egor, car=honda, date_start=\"2022-07-07\"),\nOwnership(user=mariana, car=tesla, date_start=\"2017-12-03\", date_end=\"2018-11-14\"),\nOwnership(user=mariana, car=honda, date_start=\"2018-11-19\", date_end=\"2022-07-05\"),\nOwnership(user=mariana, car=kia, date_start=\"2022-05-13\"),\nOwnership(user=ksenia, car=jeep, date_start=\"2020-03-14\"),\nOwnership(user=kate2, car=honda, date_start=\" 2017-08-11\", date_end=\"2020-12-23\"),\nOwnership(user=kate2, car=ford1, date_start=\"2021-11-15\"),\nOwnership(user=fedor, car=ford1, date_start=\"2018-01-29\", date_end=\"2019-10-20\"),\nOwnership(user=fedor, car=vw, date_start=\" 2020-12-25\"),\nOwnership(user=fedor, car=tesla, date_start=\"2022-06-07\"),\nOwnership(user=kate2, car=ford2, date_start=\"2023-06-16\"),\n)\nlicences = Licence.objects.bulk_create(\n[Licence(owner=owners[i], licence_number=str(i + 1) * 10, type=\"B\", date_of_issue=timezone.now()) for i in range(7)]\n)\n</code></pre> </p> <pre><code>from django.utils import timezone\nfrom demsha_drf_app.models import CarOwner, Car, Licence\nimport os\nimport django\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'demsha_drf_project.settings')\ndjango.setup()\nfords = Car.objects.filter(brand=\"Ford\").all()\nkates = CarOwner.objects.filter(first_name=\"\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0430\").all()\nrandom_id = CarOwner.objects.order_by(\"?\").values(\"id\").first()\nrandom_licence = Licence.objects.get(owner_id=random_id)\nred_car_owners = CarOwner.objects.filter(ownership__car__color=\"red\").all()\nthis_year_owners = CarOwner.objects.filter(licence__date_of_issue__year=timezone.now().year).all()\n</code></pre> <pre><code>from django.db.models import Min, Max, Count\nfrom demsha_drf_app.models import CarOwner, Car, Ownership, Licence\nimport os\nimport django\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'demsha_drf_project.settings')\ndjango.setup()\nold_licence = Licence.objects.aggregate(max_issue_date=Min(\"date_of_issue\"))[\"max_issue_date\"]\nnew_ownership = Ownership.objects.aggregate(max_start_date=Max(\"start_date\"))[\"max_start_date\"]\nownership_count = CarOwner.objects.annotate(count=Count(\"ownership\"))\ncars_brands_count = Car.objects.values(\"brand\").annotate(count=Count(\"id\"))\nowners_sort = CarOwner.objects.order_by(\"ownership__start_date\").all()\n</code></pre>"},{"location":"lab3/urls/","title":"\u041c\u0430\u0440\u0448\u0440\u0443\u0442\u044b","text":"<p>\u0421\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0438\u0437\u0430\u0446\u0438\u044e \u0434\u043b\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430. \u0412 \u0444\u0430\u0439\u043b\u0435 urls.py \u0432 \u043e\u0434\u043d\u043e\u0438\u043c\u0435\u043d\u043d\u043e\u0439 \u0441 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u043c \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 museum \u0431\u0443\u0434\u0443\u0442 \u043f\u0440\u043e\u043f\u0438\u0441\u0430\u043d\u044b \u043f\u0443\u0442\u0438 \u043a  \u0430\u0434\u043c\u0438\u043d\u043a\u0435, \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438, \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044e \u0438 swagger-\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 \u043a \u0435\u0433\u043e api. \u0412 \u0444\u0430\u0439\u043b\u0435 urls.py \u0432 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f  \u0443\u043a\u0430\u0436\u0435\u043c \u043f\u0443\u0442\u0438 \u043a \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430\u043c, \u0433\u0434\u0435 \u0431\u0443\u0434\u0443\u0442 \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u0442\u044c\u0441\u044f \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f.</p> museum/urls.pymuseum_app/urls.py <pre><code>from django.db import models\n</code></pre> <p>admin/ - \u0430\u0434\u043c\u0438\u043d\u043a\u0430  api-auth/ - \u043f\u0435\u0440\u0432\u0430\u044f \u0447\u0430\u0441\u0442\u044c url \u0434\u043b\u044f \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438  api/ - \u043f\u0435\u0440\u0432\u0430\u044f \u0447\u0430\u0441\u0442\u044c url \u043a \u043b\u044e\u0431\u043e\u043c\u0443 \u043f\u0443\u0442\u0438 \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438 museum_app  auth/ - \u043f\u0435\u0440\u0432\u0430\u044f \u0447\u0430\u0441\u0442\u044c url \u0434\u043b\u044f \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u043f\u043e \u0442\u043e\u043a\u0435\u043d\u0430\u043c \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430\u043c\u0438 djoser  doc/swagger/ - \u043f\u0443\u0442\u044c \u043a swagger \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438  doc/redoc - \u043f\u0443\u0442\u044c \u043a swagger \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 </p> <pre><code>\n</code></pre> <p>foundations/list - \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0444\u043e\u043d\u0434\u043e\u0432  card/list - \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043a\u0430\u0440\u0442\u043e\u0442\u0435\u043a  card/create/ - \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0442\u0435\u043a\u0443  item/list - \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043e\u0432  item/create/ - \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u0435\u0434\u043c\u0435\u0442  foundations/exhibitions/ - \u0443\u0437\u043d\u0430\u0442\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u044b\u0441\u0442\u0430\u0432\u043e\u043a, \u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0443\u0447\u0430\u0441\u0442\u0432\u043e\u0432\u0430\u043b\u0438 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u044b \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0444\u043e\u043d\u0434\u0430  card/items/ - \u0443\u0437\u043d\u0430\u0442\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043e\u0432 \u0432 \u043a\u0430\u0436\u0434\u043e\u0439 \u043a\u0430\u0440\u0442\u043e\u0442\u0435\u043a\u0435  foundations/ratio/ - \u0443\u0437\u043d\u0430\u0442\u044c \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043d\u043e\u0435 \u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u0435 \u043e\u0431\u044a\u0435\u043c\u043e\u0432 \u0444\u043e\u043d\u0434\u043e\u0432  item/exhibitions/ - \u0434\u043b\u044f \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430 \u0432\u044b\u0432\u0435\u0441\u0442\u0438 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0443\u0447\u0430\u0441\u0442\u0432\u043e\u0432\u0430\u043b\u0438 \u0441 \u043d\u0438\u043c \u0432 \u043e\u0434\u043d\u0438\u0445 \u0432\u044b\u0441\u0442\u0430\u0432\u043a\u0430\u0445"},{"location":"lab3/views/","title":"\u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f","text":"<p>\u0421\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0445 Generic \u043a\u043b\u0430\u0441\u0441\u043e\u0432.</p> \u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432, \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0445 \u0432\u043e \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0435\u041e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f, \u0434\u043b\u044f \u0432\u044b\u0432\u043e\u0434\u0430 \u0432 \u0432\u0438\u0434\u0435 \u0441\u043f\u0438\u0441\u043a\u0430, \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0432\u044b\u0432\u043e\u0434\u0430 \u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 <pre><code>from rest_framework import generics\nfrom .serializers import *\nfrom .models import *\nfrom django.db.models import Count, F\n</code></pre> <pre><code>from rest_framework import generics\nfrom .serializers import *\nfrom .models import *\n</code></pre>"},{"location":"lab4/components/","title":"\u041a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b","text":"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f\u0421\u043f\u0438\u0441\u043e\u043a \u0444\u043e\u043d\u0434\u043e\u0432\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0438 \u0432 \u0444\u043e\u043d\u0434\u0435\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438\u041f\u0440\u0435\u0434\u043c\u0435\u0442\u044b \u0432 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0435\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430 <p>\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u0430 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e ajax</p> Login.vue<pre><code>&lt;template&gt;\n&lt;div class=\"login-form\"&gt;\n&lt;h1&gt;\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f&lt;/h1&gt;\n&lt;input v-model=\"login\" type=\"text\" placeholder=\"\u041b\u043e\u0433\u0438\u043d\"/&gt;\n&lt;input v-model=\"password\" type=\"password\" placeholder=\"\u041f\u0430\u0440\u043e\u043b\u044c\"/&gt;\n&lt;button @click=\"setLogin\"&gt;\u0412\u043e\u0439\u0442\u0438&lt;/button&gt;\n&lt;/div&gt;\n&lt;/template&gt;\n&lt;script&gt;\nimport $ from 'jquery';\nexport default {\nname: 'Login',\ndata() {\nreturn {\nlogin: '',\npassword: '',\n};\n},\nmethods: {\nsetLogin() {\n$.ajax({\nurl: 'http://127.0.0.1:8000/auth/token/login',\ntype: 'POST',\ndata: {\nusername: this.login,\npassword: this.password,\n},\nsuccess: (response) =&gt; {\nalert('\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0447\u0442\u043e \u0412\u044b \u0441 \u043d\u0430\u043c\u0438');\n// Save the auth token in session storage\n// sessionStorage.setItem('auth_token', response.data.attributes.auth_token);\n// Navigate to the foundations route\nthis.$router.push({ name: 'FoundationList' });\n},\nerror: (response) =&gt; {\nif (response.status === 400) {\nalert('\u041b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0432\u0435\u0440\u0435\u043d');\n}\n},\n});\n},\n},\n};\n&lt;/script&gt;\n&lt;style scoped&gt;\n.login-form {\ndisplay: flex;\nflex-direction: column;\nalign-items: center;\nmargin-top: 50px;\n}\nh1 {\nfont-size: 2rem;\nmargin-bottom: 1rem;\n}\ninput[type=\"text\"],\ninput[type=\"password\"] {\npadding: 10px;\nmargin: 10px;\nborder: none;\nborder-radius: 5px;\nbox-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);\n}\nbutton {\npadding: 10px;\nmargin: 10px;\nborder: none;\nborder-radius: 5px;\nbackground-color: #4CAF50;\ncolor: white;\ncursor: pointer;\n}\nbutton:hover {\nbackground-color: #3e8e41;\n}\n&lt;/style&gt;\n</code></pre> <p>\u041e\u0431\u0440\u0430\u0449\u0430\u044f\u0441\u044c \u043a \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u043d\u043e\u043c\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0443 \u0441 django rest api \u043f\u043e \u0430\u0434\u0440\u0435\u0441\u0443 'foundations/list' \u043f\u043e\u043b\u0443\u0447\u0438\u043c  \u0441\u043f\u0438\u0441\u043e\u043a \u0432\u0441\u0435\u0445 \u0444\u043e\u043d\u0434\u043e\u0432, \u0430 'foundations/ratio/' \u0432\u0435\u0440\u043d\u0435\u0442 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043d\u043e\u0435 \u0441\u043e\u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0444\u043e\u043d\u0434\u0430. \u041d\u0430\u0436\u0430\u0432 \u043d\u0430 \u0438\u043c\u044f \u0444\u043e\u043d\u0434\u0430,  \u043f\u0435\u0440\u0435\u0439\u0434\u0435\u043c \u043a \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0443 \u0441\u043e \u0441\u043f\u0438\u0441\u043a\u043e\u043c \u043a\u0430\u0440\u0442\u043e\u0447\u0435\u043a \u0432 \u0444\u043e\u043d\u0434\u0435.</p> FoundationList.vue<pre><code>&lt;template&gt;\n&lt;div class=\"foundation-list\"&gt;\n&lt;h1&gt;\u0412\u0441\u0435 \u0444\u043e\u043d\u0434\u044b&lt;/h1&gt;\n&lt;ul&gt;\n&lt;li v-for=\"foundation in foundations\" :key=\"foundation.id\"&gt;\n&lt;router-link :to=\"{ name: 'CardList', params: { fond_id: foundation.id } }\"&gt;{{ foundation.name }}&lt;/router-link&gt;\n&lt;span class=\"percentage\"&gt;{{ foundation.percentage }}%&lt;/span&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/div&gt;\n&lt;/template&gt;\n&lt;script&gt;\nimport axios from 'axios';\nexport default {\nname: 'FoundationList',\ndata() {\nreturn {\nfoundations: [],\npercentage: 0,\n};\n},\nmethods: {\nfetchFoundations() {\n// Fetch all foundations from the API\naxios.get('http://127.0.0.1:8000/api/foundations/list')\n.then(response =&gt; {\nthis.foundations = response.data;\n})\n.catch(error =&gt; {\nconsole.log(error);\n});\n},\nfetchFoundationRatio() {\naxios.get('http://127.0.0.1:8000/api/foundations/ratio/')\n.then(response =&gt; {\nconsole.log(response.data); // check that the response data is correct\nthis.foundations = this.foundations.map(foundation =&gt; {\nconst ratio = response.data.find(ratio =&gt; ratio.id === foundation.id);\nconsole.log(ratio); // check that the ratio object is found correctly\nreturn {\n...foundation,\npercentage: ratio ? ratio.percentage : 0,\n};\n});\n})\n.catch(error =&gt; {\nconsole.log(error);\n});\n},\n},\nmounted() {\n// Fetch all foundations and foundation ratios when the component is mounted\nthis.fetchFoundations();\nthis.fetchFoundationRatio();\n},\n};\n&lt;/script&gt;\n&lt;style scoped&gt;\n.foundation-list {\ndisplay: flex;\nflex-direction: column;\nalign-items: center;\nmax-width: 800px;\nmargin: 0 auto;\n}\nh1 {\nfont-size: 2rem;\nmargin-bottom: 1rem;\n}\nul {\nlist-style: none;\npadding: 0;\n}\nli {\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\npadding: 1rem;\nborder-bottom: 1px solid #ccc;\n}\nli:last-child {\nborder-bottom: none;\n}\na {\ncolor: #007bff;\ntext-decoration: none;\n}\n.percentage {\nfont-weight: bold;\nmargin-left: 1rem; /* add some margin to the left */\n}\n&lt;/style&gt;\n</code></pre> <p>\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0438 \u0434\u043b\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u0444\u043e\u043d\u0434\u0430 \u0431\u0435\u0440\u0443\u0442\u0441\u044f \u0438\u0437 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 'foundations//cards'. \u041a\u043d\u043e\u043f\u043a\u0430 \"\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443\"  \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442 \u043a \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0443 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438. \u041d\u0430\u0436\u0430\u0432 \u043d\u0430 \u0438\u043c\u044f \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438, \u043f\u0435\u0440\u0435\u0439\u0434\u0435\u043c \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043e\u0432 \u0432 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0435. CardList.vue<pre><code>&lt;template&gt;\n&lt;div class=\"card-list\"&gt;\n&lt;h1&gt;\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0438 \u0432 \u0444\u043e\u043d\u0434\u0435&lt;/h1&gt;\n&lt;button @click=\"createCard\"&gt;\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443&lt;/button&gt;\n&lt;ul&gt;\n&lt;li v-for=\"card in cards\" :key=\"card.id\"&gt;\n&lt;router-link :to=\"{ name: 'CardDetail', params: { id: card.id } }\"&gt;{{ card.name }}&lt;/router-link&gt;\n&lt;p&gt;\u0418\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440: {{ card.inventory_number }}&lt;/p&gt;\n&lt;p&gt;\u0421\u0442\u0440\u0430\u043d\u0430: {{ card.country }}&lt;/p&gt;\n&lt;p&gt;\u0413\u043e\u0434 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f: {{ card.creation_year }}{{ card.is_year_exact ? '' : '?' }}&lt;/p&gt;\n&lt;p&gt;\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: {{ card.description }}&lt;/p&gt;\n&lt;img :src=\"card.image\" alt=\"Card Image\" height=\"400\"&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/div&gt;\n&lt;/template&gt;\n&lt;script&gt;\nimport axios from 'axios';\nexport default {\nname: 'CardList',\ndata() {\nreturn {\ncards: [],\n};\n},\nmethods: {\ncreateCard() {\n// Redirect to the create card page with the foundation ID parameter\nthis.$router.push({ name: 'CardCreate', params: { fond_id: this.$route.params.fond_id } });\n},\nfetchCards() {\n// Fetch all museum cards from the API\naxios.get(`http://127.0.0.1:8000/api/foundations/${this.$route.params.fond_id}/cards/`)\n.then(response =&gt; {\nthis.cards = response.data;\n})\n.catch(error =&gt; {\nconsole.log(error);\n});\n},\n},\nmounted() {\n// Fetch all museum cards when the component is mounted\nthis.fetchCards();\n},\n};\n&lt;/script&gt;\n&lt;style scoped&gt;\n.card-list {\nmax-width: 800px;\nmargin: 0 auto;\npadding: 20px;\n}\nh1 {\nfont-size: 36px;\nmargin-bottom: 20px;\n}\nbutton {\nbackground-color: #0074D9;\ncolor: #fff;\npadding: 10px 20px;\nborder-radius: 5px;\nborder: none;\nmargin-bottom: 20px;\n}\nul {\nlist-style: none;\nmargin: 0;\npadding: 0;\n}\nli {\nmargin-bottom: 40px;\n}\nli a {\nfont-size: 24px; /* increase font size of card name */\ntext-decoration: none;\ncolor: #000;\n}\np {\nmargin: 0;\n}\nimg {\ndisplay: block;\nmargin-top: 20px;\n}\n&lt;/style&gt;\n</code></pre> <p>\u0417\u0434\u0435\u0441\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f post-\u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0430\u0434\u0440\u0435\u0441 'cards/create/', \u0430 \u0442\u0430\u043a\u0436\u0435 \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f \u043e\u0431\u044a\u0435\u043a\u0442 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 CardToFoundtion  cc\u044b\u043b\u0430\u044e\u0449\u0438\u0439\u0441\u044f \u043d\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0442\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u0443\u044e \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443 \u0438 \u043d\u0430 \u0444\u043e\u043d\u0434, \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u043c\u044b \u043d\u0430\u0445\u043e\u0434\u0438\u043c\u0441\u044f.</p> CardCreate.vue<pre><code>&lt;template&gt;\n&lt;div class=\"card-create\"&gt;\n&lt;h1&gt;Create New Card&lt;/h1&gt;\n&lt;form @submit.prevent=\"createCard\"&gt;\n&lt;div&gt;\n&lt;label for=\"name\"&gt;Name:&lt;/label&gt;\n&lt;input type=\"text\" id=\"name\" v-model=\"card.name\" required&gt;\n&lt;/div&gt;\n&lt;div&gt;\n&lt;label for=\"inventory_number\"&gt;Inventory Number:&lt;/label&gt;\n&lt;input type=\"number\" id=\"inventory_number\" v-model=\"card.inventory_number\" required&gt;\n&lt;/div&gt;\n&lt;div&gt;\n&lt;label for=\"image\"&gt;Image:&lt;/label&gt;\n&lt;input type=\"file\" id=\"image\" @change=\"onFileChange\" accept=\"image/*\"&gt;\n&lt;/div&gt;\n&lt;div&gt;\n&lt;label for=\"country\"&gt;Country:&lt;/label&gt;\n&lt;input type=\"text\" id=\"country\" v-model=\"card.country\"&gt;\n&lt;/div&gt;\n&lt;div&gt;\n&lt;label for=\"creation_year\"&gt;Creation Year:&lt;/label&gt;\n&lt;input type=\"number\" id=\"creation_year\" v-model=\"card.creation_year\" required&gt;\n&lt;/div&gt;\n&lt;div&gt;\n&lt;label for=\"is_year_exact\"&gt;Is Year Exact:&lt;/label&gt;\n&lt;input type=\"checkbox\" id=\"is_year_exact\" v-model=\"card.is_year_exact\"&gt;\n&lt;/div&gt;\n&lt;div&gt;\n&lt;label for=\"description\"&gt;Description:&lt;/label&gt;\n&lt;textarea id=\"description\" v-model=\"card.description\"&gt;&lt;/textarea&gt;\n&lt;/div&gt;\n&lt;div&gt;\n&lt;button type=\"submit\"&gt;Create&lt;/button&gt;\n&lt;/div&gt;\n&lt;/form&gt;\n&lt;/div&gt;\n&lt;/template&gt;\n&lt;script&gt;\nimport axios from 'axios';\nexport default {\nname: 'CardCreate',\ndata() {\nreturn {\ncard: {\nname: '',\ninventory_number: '',\nauthor: '',\nimage: null,\ncountry: '',\ncreation_year: '',\nis_year_exact: false,\ndescription: '',\n},\nfoundationId: this.$route.params.fond_id, // Get the foundation ID from the route parameter\n};\n},\nmethods: {\ncreateCard() {\nconst formData = new FormData();\nformData.append('name', this.card.name);\nformData.append('inventory_number', this.card.inventory_number);\nformData.append('author', this.card.author);\nformData.append('image', this.card.image);\nformData.append('country', this.card.country);\nformData.append('creation_year', this.card.creation_year);\nformData.append('is_year_exact', this.card.is_year_exact);\nformData.append('description', this.card.description);\naxios.post('http://127.0.0.1:8000/api/cards/create/', formData)\n.then(response =&gt; {\n// Create a CardToFoundation object after creating the Card object\nconst cardId = response.data.id;\nconst cardToFoundationData = {\ncard: cardId,\nfoundation: this.foundationId,\nstart_date: new Date().toISOString().slice(0, 10), // Set the start date to the current date\n};\naxios.post('http://127.0.0.1:8000/api/card-to-foundation/', cardToFoundationData)\n.then(response =&gt; {\n// Redirect to the newly created card detail page\nthis.$router.push({ name: 'CardDetail', params: { id: cardId } });\n})\n.catch(error =&gt; {\nconsole.log(error);\n});\n})\n.catch(error =&gt; {\nconsole.log(error);\n});\n},\nonFileChange(event) {\nthis.card.image = event.target.files[0];\n},\n},\n};\n&lt;/script&gt;\n&lt;style scoped&gt;\n.card-create {\nmax-width: 400px;\nmargin: 0 auto;\npadding: 20px;\nborder: 1px solid #ccc;\nborder-radius: 5px;\nbackground-color: #fff;\n}\nh1 {\nfont-size: 24px;\nmargin-bottom: 20px;\n}\nlabel {\ndisplay: block;\nmargin-bottom: 10px;\nfont-weight: bold;\n}\ninput[type=\"text\"],\ninput[type=\"number\"],\ntextarea {\nwidth: 100%;\npadding: 10px;\nborder-radius: 5px;\nborder: 1px solid #ccc;\nmargin-bottom: 20px;\n}\ninput[type=\"checkbox\"] {\nmargin-right: 10px;\n}\nbutton[type=\"submit\"] {\nbackground-color: #0074D9;\ncolor: #fff;\npadding: 10px 20px;\nborder-radius: 5px;\nborder: none;\n}\n&lt;/style&gt;\n</code></pre> <p>\u041f\u043e \u0441\u0441\u044b\u043b\u043a\u0435 'cards//items/' \u0432\u043e\u0437\u044c\u043c\u0435\u043c \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u044b, \u043e\u0442\u043d\u043e\u0441\u044f\u0449\u0438\u0435\u0441\u044f \u043a \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0435. \u0422\u0430\u043a\u0436\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043c  \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u044b \u043d\u0430 \u0432\u044b\u0441\u0442\u0430\u0432\u043a\u0443: \u0441\u043f\u0438\u0441\u043e\u043a \u0432\u044b\u0441\u0442\u0430\u0432\u043e\u043a \u0431\u0435\u0440\u0435\u043c \u0438\u0437 'exhibitions/list' \u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u043c  post-p\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 'item-to-exhibition/' CardDetail.vue<pre><code>&lt;template&gt;\n&lt;div class=\"CardDetail\"&gt;\n&lt;h1&gt;{{ card.name }}&lt;/h1&gt;\n&lt;button @click=\"addItem\"&gt;\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0435\u0434\u043c\u0435\u0442&lt;/button&gt;\n&lt;ul&gt;\n&lt;li v-for=\"item in items\" :key=\"item.id\"&gt;\n&lt;p&gt;{{ item.name }}&lt;/p&gt;\n&lt;p&gt;{{ item.description }}&lt;/p&gt;\n&lt;img :src=\"item.image\" alt=\"Item Image\" height=\"400\"&gt;\n&lt;br&gt;\n&lt;select v-model=\"selectedExhibition\"&gt;\n&lt;option disabled value=\"\"&gt;\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u044b\u0441\u0442\u0430\u0432\u043a\u0443&lt;/option&gt;\n&lt;option v-for=\"exhibition in exhibitions\" :key=\"exhibition.id\"&gt;{{ exhibition.name }}&lt;/option&gt;\n&lt;/select&gt;\n&lt;button @click=\"sendToExhibition(item)\"&gt;\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043d\u0430 \u0432\u044b\u0441\u0442\u0430\u0432\u043a\u0443&lt;/button&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/div&gt;\n&lt;/template&gt;\n&lt;script&gt;\nimport axios from 'axios';\nexport default {\nname: 'CardDetail',\ndata() {\nreturn {\ncard: {},\nitems: [],\nexhibitions: [],\nselectedExhibition: '',\n};\n},\nmethods: {\nfetchCard() {\naxios.get(`http://127.0.0.1:8000/api/cards/${this.$route.params.id}/`)\n.then(response =&gt; {\nthis.card = response.data;\n})\n.catch(error =&gt; {\nconsole.log(error);\n});\n},\nfetchItems() {\naxios.get(`http://127.0.0.1:8000/api/cards/${this.$route.params.id}/items/`)\n.then(response =&gt; {\nthis.items = response.data;\n})\n.catch(error =&gt; {\nconsole.log(error);\n});\n},\nfetchExhibitions() {\naxios.get('http://127.0.0.1:8000/api/exhibitions/list')\n.then(response =&gt; {\nthis.exhibitions = response.data.map(exhibition =&gt; ({\nid: exhibition.id,\nname: exhibition.name,\n}));\n})\n.catch(error =&gt; {\nconsole.log(error);\n});\n},\naddItem() {\nthis.$router.push({ name: 'ItemCreate', query: { card: this.card.id } });\n},\nsendToExhibition(item) {\nconst selectedExhibition = this.exhibitions.find(e =&gt; e.name === this.selectedExhibition);\nif (selectedExhibition) {\nconst data = {\nitem: item.id,\nexhibition: selectedExhibition.id,\nsend_date: new Date().toISOString().slice(0, 10),\n};\naxios.post('http://127.0.0.1:8000/api/item-to-exhibition/', data)\n.then(response =&gt; {\nconsole.log(response.data);\n})\n.catch(error =&gt; {\nconsole.log(error);\n});\n} else {\nalert(\"\u0412\u044b\u0441\u0442\u0430\u0432\u043a\u0430 \" + this.selectedExhibition + \" \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430.\");\n}\n},\n},\nmounted() {\nthis.fetchCard();\nthis.fetchItems();\nthis.fetchExhibitions();\n},\n};\n&lt;/script&gt;\n&lt;style&gt;\n.CardDetail {\ndisplay: flex;\nflex-direction: column;\nalign-items: flex-start;\n}\n.CardDetail h1 {\nfont-size: 36px;\nmargin-bottom: 10px;\n}\n.CardDetail button {\npadding: 4px;\nbackground-color: #007bff;\ncolor: #fff;\nborder: none;\nborder-radius: 5px;\nmargin-bottom: 10px;\n}\n.CardDetail button:hover {\ncursor: pointer;\n}\n.CardDetail ul {\nlist-style-type: none;\npadding: 0;\n}\n.CardDetail li {\nmargin-bottom: 20px;\n}\n.CardDetail p {\nmargin: 0;\n}\n.CardDetail img {\nmargin-top: 10px;\nmax-width: 100%;\n}\n&lt;/style&gt;\n</code></pre> <p>\u0417\u0434\u0435\u0441\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f post-\u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0430\u0434\u0440\u0435\u0441 'items/create/'</p> ItemCreate.vue<pre><code>&lt;template&gt;\n&lt;div class=\"item-create\"&gt;\n&lt;h1&gt;Create New Item&lt;/h1&gt;\n&lt;form @submit.prevent=\"createItem\"&gt;\n&lt;div&gt;\n&lt;label for=\"name\"&gt;Name:&lt;/label&gt;\n&lt;input type=\"text\" id=\"name\" v-model=\"item.name\" required&gt;\n&lt;/div&gt;\n&lt;div&gt;\n&lt;label for=\"number\"&gt;Number:&lt;/label&gt;\n&lt;input type=\"number\" id=\"number\" v-model=\"item.number\" required&gt;\n&lt;/div&gt;\n&lt;div&gt;\n&lt;label for=\"description\"&gt;Description:&lt;/label&gt;\n&lt;textarea id=\"description\" v-model=\"item.description\"&gt;&lt;/textarea&gt;\n&lt;/div&gt;\n&lt;div&gt;\n&lt;label for=\"image\"&gt;Image:&lt;/label&gt;\n&lt;input type=\"file\" id=\"image\" @change=\"onFileChange\" accept=\"image/*\"&gt;\n&lt;/div&gt;\n&lt;div&gt;\n&lt;button type=\"submit\"&gt;Create&lt;/button&gt;\n&lt;/div&gt;\n&lt;/form&gt;\n&lt;/div&gt;\n&lt;/template&gt;\n&lt;script&gt;\nimport axios from 'axios';\nexport default {\nname: 'ItemCreate',\ndata() {\nreturn {\nitem: {\nname: '',\ndescription: '',\nimage: null,\nnumber: '',\ncard: this.$route.query.card,\n},\n};\n},\nmethods: {\ncreateItem() {\nconst formData = new FormData();\nformData.append('name', this.item.name);\nformData.append('description', this.item.description);\nformData.append('number', this.item.number);\nformData.append('card', this.item.card);\nformData.append('image', this.item.image);\naxios.post('http://127.0.0.1:8000/api/items/create/', formData)\n.then(() =&gt; {\nthis.$router.back();\n})\n.catch(error =&gt; {\nconsole.log(error);\n});\n},\nonFileChange(event) {\nthis.item.image = event.target.files[0];\n},\n},\n};\n&lt;/script&gt;\n&lt;style scoped&gt;\n.item-create {\nmax-width: 400px;\nmargin: 0 auto;\npadding: 20px;\nborder: 1px solid #ccc;\nborder-radius: 5px;\nbackground-color: #fff;\n}\nh1 {\nfont-size: 24px;\nmargin-bottom: 20px;\n}\nlabel {\ndisplay: block;\nmargin-bottom: 10px;\nfont-weight: bold;\n}\ninput[type=\"text\"],\ninput[type=\"number\"],\ntextarea {\nwidth: 100%;\npadding: 10px;\nborder-radius: 5px;\nborder: 1px solid #ccc;\nmargin-bottom: 20px;\n}\ninput[type=\"file\"] {\nmargin-top: 10px;\nmargin-bottom: 20px;\n}\nbutton[type=\"submit\"] {\nbackground-color: #0074D9;\ncolor: #fff;\npadding: 10px 20px;\nborder-radius: 5px;\nborder: none;\n}\n&lt;/style&gt;\n</code></pre>"},{"location":"lab4/result/","title":"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442","text":"\u041b\u043e\u0433\u0438\u043d\u0421\u043f\u0438\u0441\u043e\u043a \u0444\u043e\u043d\u0434\u043e\u0432\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0438 \u0432 \u0444\u043e\u043d\u0434\u0435\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438\u041f\u0440\u0435\u0434\u043c\u0435\u0442\u044b \u0432 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0435\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430"},{"location":"lab4/router/","title":"\u041f\u0443\u0442\u0438","text":"router/index.js<pre><code>import {createRouter, createWebHistory} from \"vue-router\";\nimport Login from '@/components/Login.vue';\nimport FoundationList from '@/components/FoundationList.vue';\nimport CardList from '@/components/CardList.vue';\nimport CardDetail from '@/components/CardDetail.vue';\nimport CardCreate from '@/components/CardCreate.vue';\nimport ItemCreate from '@/components/ItemCreate.vue';\nimport AnimalFacts from '@/components/Facts.vue';\nconst routes = [\n{\npath: '/login',\nname: 'login',\ncomponent: Login\n},\n{\npath: '/facts',\nname: 'facts',\ncomponent: AnimalFacts\n},\n{   path: '/foundations',\nname: 'FoundationList',\ncomponent: FoundationList\n},\n{   path: '/foundations/:fond_id',\nname: 'CardList',\ncomponent: CardList,\nprops: true\n},\n{\npath: '/foundations/:fond_id/cards/create/',\nname: 'CardCreate',\ncomponent: CardCreate,\n},\n{\npath: '/cards/:id',\nname: 'CardDetail',\ncomponent: CardDetail,\nprops: true,\n},\n{\npath: '/items/create',\nname: 'ItemCreate',\ncomponent: ItemCreate,\n},\n]\nconst router = createRouter({\nhistory: createWebHistory(), routes\n})\nexport default router\n</code></pre>"}]}